{"version":3,"sources":["webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?e63b"],"names":["class","for","type","onSubmit","errors","id","name","rules","user","username","password","data","methods","values","url","this","$http","post","then","res","success","token","expired","document","cookie","Date","$router","push","text","icon","button","timer","catch","err","console","log","render"],"mappings":"0IACOA,MAAM,kB,GACJA,MAAM,8B,GACJA,MAAM,Y,EACT,yBAAe,UAAX,UAAM,G,GAEHA,MAAM,Q,EACT,yBAAgC,SAAzBC,IAAI,SAAQ,SAAK,G,GAIrBD,MAAM,Q,EACT,yBAAgC,SAAzBC,IAAI,YAAW,MAAE,G,EAI1B,yBAAyD,UAAjDC,KAAK,SAASF,MAAM,mBAAkB,MAAE,G,8LAfxD,yBAmBM,MAnBN,EAmBM,CAlBJ,yBAiBM,MAjBN,EAiBM,CAhBJ,yBAeM,MAfN,EAeM,CAdJ,EACA,yBAYO,GAZoB,SAAQ,EAAAG,UAAQ,C,8BACzC,gBADcC,EACd,EADcA,OACd,MADoB,CACpB,yBAIM,MAJN,EAIM,CAHJ,EACA,yBAAkK,GAA3JF,KAAK,OAAQF,MAAK,eAAkBI,EAAO,UAAkB,gBAAeC,GAAG,QAAQC,KAAK,QAAQC,MAAM,iB,WAA0B,EAAAC,KAAKC,S,qDAAL,EAAAD,KAAKC,SAAQ,K,+BACxJ,yBAAqE,GAAtDH,KAAK,QAAQN,MAAM,uBAEpC,yBAIM,MAJN,EAIM,CAHJ,EACA,yBAA6J,GAAtJE,KAAK,WAAYF,MAAK,eAAkBI,EAAO,OAAe,gBAAeC,GAAG,WAAWC,KAAK,KAAKC,MAAM,W,WAAoB,EAAAC,KAAKE,S,qDAAL,EAAAF,KAAKE,SAAQ,K,+BACnJ,yBAAkE,GAAnDJ,KAAK,KAAKN,MAAM,uBAEjC,M,8DAUK,GACbW,KADa,WAEX,MAAO,CACLH,KAAM,KAGVI,QAAS,CACPT,SADO,SACGU,GAAQ,WACVC,EAAE,UAAO,wCAAP,gBACRC,KAAKC,MAAMC,KAAKH,EAAKC,KAAKP,MACvBU,MAAK,SAAAC,GACJ,GAAIA,EAAIR,KAAKS,QAAS,CACpB,MAA2BD,EAAIR,KAAvBU,EAAR,EAAQA,MAAOC,EAAf,EAAeA,QACfC,SAASC,OAAT,mBAA8BH,EAA9B,qBAAgD,IAAII,KAAKH,IACzD,EAAKI,QAAQC,KAAK,eAElB,IAAK,CACHC,KAAM,OACNC,KAAM,QACNC,QAAQ,EACRC,MAAO,UAIZC,OAAM,SAAAC,GACLC,QAAQC,IAAIF,SChDtB,EAAOG,OAASA,EAED","file":"js/chunk-2d2086b7.fb963ff3.js","sourcesContent":["<template>\n  <div class=\"container py-5\">\n    <div class=\"row justify-content-center\">\n      <div class=\"col-md-4\">\n        <h1>後台管理登入</h1>\n        <Form v-slot=\"{ errors }\" @submit=\"onSubmit\">\n          <div class=\"mb-3\">\n            <label for=\"email\">Email</label>\n            <Field type=\"text\" :class=\"{ 'is-invalid': errors['email'] }\" class=\"form-control\" id=\"email\" name=\"email\" rules=\"email|required\" v-model=\"user.username\"></Field>\n            <error-message name=\"email\" class=\"invalid-feedback\"></error-message>\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"password\">密碼</label>\n            <Field type=\"password\" :class=\"{ 'is-invalid': errors['密碼'] }\" class=\"form-control\" id=\"password\" name=\"密碼\" rules=\"required\" v-model=\"user.password\"></Field>\n            <error-message name=\"密碼\" class=\"invalid-feedback\"></error-message>\n          </div>\n          <button type=\"submit\" class=\"btn btn-primary\">登入</button>\n        </Form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport swal from 'sweetalert'\n\nexport default {\n  data () {\n    return {\n      user: {}\n    }\n  },\n  methods: {\n    onSubmit (values) {\n      const url = `${process.env.VUE_APP_API}admin/signin`\n      this.$http.post(url, this.user)\n        .then(res => {\n          if (res.data.success) {\n            const { token, expired } = res.data\n            document.cookie = `hexToken=${token}; expires=${new Date(expired)}`\n            this.$router.push('/admin')\n          } else {\n            swal({\n              text: '登入失敗',\n              icon: 'error',\n              button: false,\n              timer: 1500\n            })\n          }\n        })\n        .catch(err => {\n          console.log(err)\n        })\n    }\n  }\n}\n</script>\n","import { render } from \"./Login.vue?vue&type=template&id=ec0ec54e\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}