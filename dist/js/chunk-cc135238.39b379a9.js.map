{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/admin/Order.vue","webpack:///./src/components/EditOrderModal.vue","webpack:///./src/components/EditOrderModal.vue?ec69","webpack:///./src/views/admin/Order.vue?8c42"],"names":["DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","this","match","error","class","scope","active","isLoading","orderList","length","deleteAll","order","key","id","user","name","email","Date","create_at","getFullYear","getMonth","getDate","is_paid","type","editOrder","deleteOrder","pages","pagination","getOrder","ref","temp-order","tempOrder","data-bs-dismiss","aria-label","for","data-bs-toggle","data-bs-target","aria-expanded","aria-controls","aria-labelledby","data-bs-parent","disabled","temp","tel","address","message","total","value","data","modal","emits","props","methods","openModal","show","hideModal","hide","text","icon","button","timer","url","$http","put","then","res","success","$emit","catch","err","console","log","mounted","$refs","editModal","backdrop","watch","render","components","page","orders","delete","JSON","parse","stringify","created"],"mappings":"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","file":"js/chunk-cc135238.39b379a9.js","sourcesContent":["var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","<template>\r\n  <loading v-model:active=\"isLoading\"/>\r\n  <div class=\"container py-3\">\r\n    <h1>訂單列表</h1>\r\n    <div class=\"d-flex justify-content-end\">\r\n      <button class=\"btn btn-danger\" v-if=\"orderList.length >=2\" @click=\"deleteAll\">刪除所有訂單</button>\r\n    </div>\r\n    <table class=\"table\">\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\">訂單編號</th>\r\n          <th scope=\"col\">訂購人姓名</th>\r\n          <th scope=\"col\">訂購人 Email</th>\r\n          <th scope=\"col\">訂購日期</th>\r\n          <th scope=\"col\">是否付款</th>\r\n          <th scope=\"col\"></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"order in orderList\" :key=\"order.id\">\r\n          <td>{{ order.id }}</td>\r\n          <td>{{ order.user.name }}</td>\r\n          <td>{{ order.user.email }}</td>\r\n          <td>{{ new Date(order.create_at*1000).getFullYear() }}/{{ new Date(order.create_at*1000).getMonth()+1 }}/{{ new Date(order.create_at*1000).getDate() }}</td>\r\n          <td>{{ order.is_paid ? '已付款':'未付款' }}</td>\r\n          <td>\r\n            <button class=\"btn btn-primary me-2\" type=\"button\" @click=\"editOrder(order)\">編輯</button>\r\n            <button class=\"btn btn-outline-danger\" type=\"button\" @click=\"deleteOrder(order.id)\">刪除</button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <pagination :pages=\"pagination\" @get-list=\"getOrder\"></pagination>\r\n    <editModal ref=\"editModal\" :temp-order='tempOrder' @get-order=\"getOrder\"></editModal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport pagination from '../../components/Pagination.vue'\r\nimport editModal from '../../components/EditOrderModal.vue'\r\nimport swal from 'sweetalert'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      orderList: [],\r\n      pagination: [],\r\n      tempOrder: [],\r\n      isLoading: false\r\n    }\r\n  },\r\n  components: {\r\n    pagination,\r\n    editModal\r\n  },\r\n  methods: {\r\n    getOrder (page = 1) {\r\n      this.isLoading = true\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders?page=${page}`\r\n      this.$http.get(url)\r\n        .then(res => {\r\n          if (res.data.success) {\r\n            this.isLoading = false\r\n            this.orderList = res.data.orders\r\n            this.pagination = res.data.pagination\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    deleteOrder (id) {\r\n      this.isLoading = true\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${id}`\r\n      this.$http.delete(url)\r\n        .then(res => {\r\n          console.log(res)\r\n          if (res.data.success) {\r\n            this.isLoading = false\r\n            swal({\r\n              text: '刪除成功',\r\n              button: false,\r\n              timer: 1500\r\n            })\r\n            this.getOrder()\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    deleteAll () {\r\n      this.isLoading = true\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders/all`\r\n      this.$http.delete(url)\r\n        .then(res => {\r\n          console.log(res)\r\n          if (res.data.success) {\r\n            this.isLoading = false\r\n            swal({\r\n              text: '刪除所有訂單成功',\r\n              button: false,\r\n              timer: 1500\r\n            })\r\n            this.getOrder()\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    editOrder (order) {\r\n      this.tempOrder = JSON.parse(JSON.stringify(order))\r\n      this.$refs.editModal.openModal()\r\n    }\r\n  },\r\n  created () {\r\n    this.getOrder()\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <loading v-model:active=\"isLoading\"/>\r\n  <div class=\"modal fade\" id=\"modal\" ref=\"editModal\">\r\n    <div class=\"modal-dialog\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <h5 class=\"modal-title\">訂單編輯</h5>\r\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"mb-3\">\r\n            <label for=\"orderId\" class=\"form-label\">訂單編號</label>\r\n            <input type=\"text\" class=\"form-control\" id=\"orderId\" disabled v-model=\"temp.id\">\r\n          </div>\r\n          <div class=\"accordion accordion-flush\" id=\"orderAccordion\">\r\n            <div class=\"accordion-item\">\r\n              <h2 class=\"accordion-header\" id=\"flush-headingOne\">\r\n                <button class=\"accordion-button collapsed\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#flush-collapseOne\" aria-expanded=\"false\" aria-controls=\"flush-collapseOne\">\r\n                  訂購人資訊\r\n                </button>\r\n              </h2>\r\n              <div id=\"flush-collapseOne\" class=\"accordion-collapse collapse\" aria-labelledby=\"flush-headingOne\" data-bs-parent=\"#orderAccordion\">\r\n                <div class=\"accordion-body\">\r\n                  <div class=\"mb-3\">\r\n                    <label for=\"orderName\" class=\"form-label\">訂單人姓名</label>\r\n                    <input type=\"text\" class=\"form-control\" id=\"orderName\" v-model=\"temp.user.name\">\r\n                  </div>\r\n                  <div class=\"mb-3\">\r\n                    <label for=\"email\" class=\"form-label\">訂單人Email</label>\r\n                    <input type=\"text\" class=\"form-control\" id=\"email\" v-model=\"temp.user.email\">\r\n                  </div>\r\n                  <div class=\"mb-3\">\r\n                    <label for=\"tel\" class=\"form-label\">訂單人電話</label>\r\n                    <input type=\"tel\" class=\"form-control\" id=\"tel\" v-model=\"temp.user.tel\">\r\n                  </div>\r\n                  <div class=\"mb-3\">\r\n                    <label for=\"address\" class=\"form-label\">訂單人地址</label>\r\n                    <input type=\"text\" class=\"form-control\" id=\"address\" v-model=\"temp.user.address\">\r\n                  </div>\r\n                  <div class=\"mb-3\">\r\n                    <label for=\"message\" class=\"form-label\">留言</label>\r\n                    <input type=\"text\" class=\"form-control\" id=\"message\" v-model=\"temp.message\" disabled>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"accordion-item\">\r\n              <h2 class=\"accordion-header\" id=\"flush-headingTwo\">\r\n                <button class=\"accordion-button collapsed\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#flush-collapseTwo\" aria-expanded=\"false\" aria-controls=\"flush-collapseTwo\">\r\n                  訂單資訊\r\n                </button>\r\n              </h2>\r\n              <div id=\"flush-collapseTwo\" class=\"accordion-collapse collapse\" aria-labelledby=\"flush-headingTwo\" data-bs-parent=\"#orderAccordion\">\r\n                <div class=\"accordion-body\">\r\n                  <div class=\"mb-3\">\r\n                    <label for=\"total\" class=\"form-label\">訂單總額 <small class=\"text-danger\">*必填</small></label>\r\n                    <input type=\"number\" class=\"form-control\" id=\"total\" v-model.number=\"temp.total\">\r\n                  </div>\r\n                  <div class=\"form-check\">\r\n                    <input class=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"isPaid\" v-model=\"temp.is_paid\">\r\n                    <label class=\"form-check-label\" for=\"isPaid\">\r\n                      是否付款\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">取消</button>\r\n          <button type=\"button\" class=\"btn btn-primary\" @click=\"editOrder\">編輯</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Modal from 'bootstrap/js/dist/modal'\r\nimport swal from 'sweetalert'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      modal: '',\r\n      temp: {\r\n        user: {}\r\n      },\r\n      isLoading: false\r\n    }\r\n  },\r\n  emits: ['getOrder'],\r\n  props: ['tempOrder'],\r\n  methods: {\r\n    openModal () {\r\n      this.modal.show()\r\n    },\r\n    hideModal () {\r\n      this.modal.hide()\r\n    },\r\n    editOrder () {\r\n      this.isLoading = true\r\n      if (!this.temp.total) {\r\n        this.isLoading = false\r\n        swal({\r\n          text: '必填項目要填寫唷！',\r\n          icon: 'error',\r\n          button: false,\r\n          timer: 1500\r\n        })\r\n        return\r\n      }\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${this.temp.id}`\r\n      this.$http.put(url, { data: this.temp })\r\n        .then(res => {\r\n          if (res.data.success) {\r\n            this.isLoading = false\r\n            swal({\r\n              text: '編輯成功',\r\n              icon: 'success',\r\n              button: false,\r\n              timer: 1500\r\n            })\r\n            this.hideModal()\r\n            this.$emit('getOrder')\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.modal = new Modal(this.$refs.editModal, {\r\n      backdrop: 'static'\r\n    })\r\n  },\r\n  watch: {\r\n    tempOrder () {\r\n      this.temp = this.tempOrder\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./EditOrderModal.vue?vue&type=template&id=67c8a342\"\nimport script from \"./EditOrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./EditOrderModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Order.vue?vue&type=template&id=625f7ffa\"\nimport script from \"./Order.vue?vue&type=script&lang=js\"\nexport * from \"./Order.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}